{"is_source_file": true, "format": "TypeScript", "description": "This file defines a utility function `resolveApiBaseUrl` that determines the backend API base URL based on environment variables and runtime conditions, primarily used in an Angular frontend application.", "external_files": ["@angular/common", "@angular/core"], "external_methods": ["inject", "isPlatformBrowser"], "published": [], "classes": [], "methods": [{"name": "export function resolveApiBaseUrl(): string { resolveApiBaseUrl", "description": "Resolves and returns the backend API base URL by checking environment variables during server-side rendering and the runtime window environment during browser execution; defaults to 'http://localhost:3001' if none are set.", "scope": "", "scopeKind": ""}, {"name": "function sanitizeBaseUrl(value: string): string { sanitizeBaseUrl", "description": "Sanitizes the URL by removing trailing slashes.", "scope": "", "scopeKind": ""}], "calls": ["inject(PLATFORM_ID)", "isPlatformBrowser(platformId)", "sanitizeBaseUrl(fromNode)", "sanitizeBaseUrl(fromWindow)"], "search-terms": ["resolveApiBaseUrl", "API base URL", "environment variables", "Angular", "PLATFORM_ID", "isPlatformBrowser", "window.__env", "process.env", "fallback URL"], "state": 2, "file_id": 22, "knowledge_revision": 79, "git_revision": "", "ctags": [{"_type": "tag", "name": "fromNode", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^  const fromNode = nodeEnv?.['NG_APP_API_BASE'] || nodeEnv?.['NG_APP_BACKEND_URL'];$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "fromWindow", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^    const fromWindow = runtimeEnv?.['NG_APP_API_BASE'] || runtimeEnv?.['NG_APP_BACKEND_URL'];$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^    const g = globalThis as unknown as { __env?: Record<string, string | undefined> };$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "nodeEnv", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^  const nodeEnv = (typeof process !== 'undefined' ? (process as any).env : undefined) as$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "platformId", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^  const platformId = inject(PLATFORM_ID);$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "resolveApiBaseUrl", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^export function resolveApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "runtimeEnv", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^    const runtimeEnv = g.__env;$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "sanitizeBaseUrl", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/core/api-base-url.ts", "pattern": "/^function sanitizeBaseUrl(value: string): string {$/", "language": "TypeScript", "kind": "function"}], "hash": "f383643bd3154a7481ae730153f227ec", "format-version": 4, "code-base-name": "ecommerce_frontend", "filename": "ecommerce_frontend/src/app/core/api-base-url.ts", "revision_history": [{"79": ""}]}