{"is_source_file": true, "format": "TypeScript", "description": "This file defines the ApiClientService class, which provides methods for interacting with an e-commerce backend API, such as listing products, managing carts, and processing checkouts.", "external_files": ["../core/api-error", "../core/api-base-url", "../models/api.models", "@angular/common/http", "@angular/core", "rxjs"], "external_methods": ["formatApiError", "resolveApiBaseUrl"], "published": ["ApiClientService"], "classes": [{"name": "ApiClientService", "description": "A service class that interfaces with the backend API for e-commerce operations like product listing, cart management, and checkout."}], "methods": [{"name": "listProducts() { listProducts", "description": "Fetches the list of available products from the API.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "getProduct(productId: number) { getProduct", "description": "Retrieves details of a specific product by ID.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "createCart() { createCart", "description": "Creates a new basket/cart for the user.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "getCart(cartId: number) { getCart", "description": "Retrieves details of a specific cart by ID.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "clearCart(cartId: number) { clearCart", "description": "Removes all items from the specified cart.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "addItem(cartId: number, req: AddItemRequest) { addItem", "description": "Adds a new item to the cart.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "updateItemQuantity(cartId: number, productId: number, req: UpdateItemQuantityRequest) { updateItemQuantity", "description": "Updates the quantity of a specific product in the cart.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "removeItem(cartId: number, productId: number) { removeItem", "description": "Removes a specific product from the cart.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "checkout(cartId: number, req: CheckoutRequest) { checkout", "description": "Processes the current cart as an order and initiates checkout.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "private handleError(err: unknown) { handleError", "description": "Handles API error responses, formatting error messages and throwing them as observable errors.", "scope": "ApiClientService", "scopeKind": "class"}, {"name": "private readonly apiBaseUrlSignal = signal<string>(resolveApiBaseUrl()); resolveApiBaseUrl", "scope": "ApiClientService", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.http.get", "this.http.post", "this.http.delete", "this.http.put", "this.handleError", "formatApiError", "resolveApiBaseUrl"], "search-terms": ["ApiClientService", "Angular HttpClient", "cart management", "e-commerce API interaction", "checkout process"], "state": 2, "file_id": 26, "knowledge_revision": 83, "git_revision": "c34fcd6693fb7b4a144772fe12cd1de7a0f9fa7c", "ctags": [{"_type": "tag", "name": "ApiClientService", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^export class ApiClientService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "HttpErrorResponse", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const httpStatus = err instanceof HttpErrorResponse ? err.status : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.handleError", "scopeKind": "method"}, {"_type": "tag", "name": "addItem", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  addItem(cartId: number, req: AddItemRequest) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "apiBaseUrlSignal", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  private readonly apiBaseUrlSignal = signal<string>(resolveApiBaseUrl());$/", "language": "TypeScript", "kind": "property", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "checkout", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  checkout(cartId: number, req: CheckoutRequest) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "clearCart", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  clearCart(cartId: number) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "createCart", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  createCart() {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const httpStatus = err instanceof HttpErrorResponse ? err.status : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.handleError", "scopeKind": "method"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  getCart(cartId: number) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "getProduct", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  getProduct(productId: number) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "handleError", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  private handleError(err: unknown) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "httpStatus", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const httpStatus = err instanceof HttpErrorResponse ? err.status : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.handleError", "scopeKind": "method"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const httpStatus = err instanceof HttpErrorResponse ? err.status : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.handleError", "scopeKind": "method"}, {"_type": "tag", "name": "listProducts", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  listProducts() {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const msg = formatApiError(err);$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.handleError", "scopeKind": "method"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^    const params = new HttpParams().set('cart_id', String(cartId));$/", "language": "TypeScript", "kind": "constant", "scope": "ApiClientService.checkout", "scopeKind": "method"}, {"_type": "tag", "name": "removeItem", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  removeItem(cartId: number, productId: number) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "resolveApiBaseUrl", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  private readonly apiBaseUrlSignal = signal<string>(resolveApiBaseUrl());$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}, {"_type": "tag", "name": "updateItemQuantity", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18609/ecommerce_frontend/src/app/services/api-client.service.ts", "pattern": "/^  updateItemQuantity(cartId: number, productId: number, req: UpdateItemQuantityRequest) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiClientService", "scopeKind": "class"}], "hash": "01f3a52a9973b9b5a549a2a34c705642", "format-version": 4, "code-base-name": "ecommerce_frontend", "filename": "ecommerce_frontend/src/app/services/api-client.service.ts", "fields": [{"name": "private readonly apiBaseUrlSignal = signal<string>(resolveApiBaseUrl());", "scope": "ApiClientService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"83": "c34fcd6693fb7b4a144772fe12cd1de7a0f9fa7c"}]}